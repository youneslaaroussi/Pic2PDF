<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.1 (20251006.0113)
 -->
<!-- Pages: 1 -->
<svg width="557pt" height="819pt"
 viewBox="0.00 0.00 557.00 819.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 815)">
<polygon fill="white" stroke="none" points="-4,4 -4,-815 553,-815 553,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_wrapper</title>
<path fill="#e6f3ff" stroke="black" d="M131,-582.25C131,-582.25 425,-582.25 425,-582.25 431,-582.25 437,-588.25 437,-594.25 437,-594.25 437,-685.5 437,-685.5 437,-691.5 431,-697.5 425,-697.5 425,-697.5 131,-697.5 131,-697.5 125,-697.5 119,-691.5 119,-685.5 119,-685.5 119,-594.25 119,-594.25 119,-588.25 125,-582.25 131,-582.25"/>
<text xml:space="preserve" text-anchor="middle" x="278" y="-682.1" font-family="Comic Sans MS" font-size="12.00">MediaPipeTasksGenAI (CocoaPod)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_cpp</title>
<path fill="#fff8dc" stroke="black" d="M234,-306C234,-306 358,-306 358,-306 364,-306 370,-312 370,-318 370,-318 370,-520 370,-520 370,-526 364,-532 358,-532 358,-532 234,-532 234,-532 228,-532 222,-526 222,-520 222,-520 222,-318 222,-318 222,-312 228,-306 234,-306"/>
<text xml:space="preserve" text-anchor="middle" x="296" y="-516.6" font-family="Comic Sans MS" font-size="12.00">MediaPipe C++ Core</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_delegates</title>
<path fill="#ffe6f0" stroke="black" d="M94,-157C94,-157 434,-157 434,-157 440,-157 446,-163 446,-169 446,-169 446,-243.75 446,-243.75 446,-249.75 440,-255.75 434,-255.75 434,-255.75 94,-255.75 94,-255.75 88,-255.75 82,-249.75 82,-243.75 82,-243.75 82,-169 82,-169 82,-163 88,-157 94,-157"/>
<text xml:space="preserve" text-anchor="middle" x="264" y="-240.35" font-family="Comic Sans MS" font-size="12.00">TFLite Delegates</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_hardware</title>
<path fill="#e6e6fa" stroke="black" d="M20,-8C20,-8 529,-8 529,-8 535,-8 541,-14 541,-20 541,-20 541,-94.75 541,-94.75 541,-100.75 535,-106.75 529,-106.75 529,-106.75 20,-106.75 20,-106.75 14,-106.75 8,-100.75 8,-94.75 8,-94.75 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text xml:space="preserve" text-anchor="middle" x="274.5" y="-91.35" font-family="Comic Sans MS" font-size="12.00">ARM64 Hardware</text>
</g>
<!-- swift_app -->
<g id="node1" class="node">
<title>swift_app</title>
<path fill="lightgreen" stroke="black" d="M341.75,-811C341.75,-811 210.25,-811 210.25,-811 204.25,-811 198.25,-805 198.25,-799 198.25,-799 198.25,-782 198.25,-782 198.25,-776 204.25,-770 210.25,-770 210.25,-770 341.75,-770 341.75,-770 347.75,-770 353.75,-776 353.75,-782 353.75,-782 353.75,-799 353.75,-799 353.75,-805 347.75,-811 341.75,-811"/>
<text xml:space="preserve" text-anchor="middle" x="276" y="-796.55" font-family="Comic Sans MS" font-size="11.00">OnDeviceLLMService.swift</text>
<text xml:space="preserve" text-anchor="middle" x="276" y="-780.05" font-family="Comic Sans MS" font-size="11.00">Swift application</text>
</g>
<!-- llm_inf -->
<g id="node2" class="node">
<title>llm_inf</title>
<path fill="#b0e0e6" stroke="black" d="M233,-647.75C233,-647.75 139,-647.75 139,-647.75 133,-647.75 127,-641.75 127,-635.75 127,-635.75 127,-618.75 127,-618.75 127,-612.75 133,-606.75 139,-606.75 139,-606.75 233,-606.75 233,-606.75 239,-606.75 245,-612.75 245,-618.75 245,-618.75 245,-635.75 245,-635.75 245,-641.75 239,-647.75 233,-647.75"/>
<text xml:space="preserve" text-anchor="middle" x="186" y="-633.3" font-family="Comic Sans MS" font-size="11.00">LlmInference</text>
<text xml:space="preserve" text-anchor="middle" x="186" y="-616.8" font-family="Comic Sans MS" font-size="11.00">Swift class wrapper</text>
</g>
<!-- swift_app&#45;&gt;llm_inf -->
<g id="edge1" class="edge">
<title>swift_app&#45;&gt;llm_inf</title>
<path fill="none" stroke="black" d="M221.62,-769.82C221.62,-769.82 221.62,-659.53 221.62,-659.53"/>
<polygon fill="black" stroke="black" points="225.13,-659.53 221.63,-649.53 218.13,-659.53 225.13,-659.53"/>
<text xml:space="preserve" text-anchor="middle" x="244.62" y="-724.5" font-family="Comic Sans MS" font-size="10.00">addImage()</text>
<text xml:space="preserve" text-anchor="middle" x="244.62" y="-710.25" font-family="Comic Sans MS" font-size="10.00">generateResponse()</text>
</g>
<!-- options -->
<g id="node3" class="node">
<title>options</title>
<path fill="#b0e0e6" stroke="black" d="M417.12,-664.25C417.12,-664.25 314.88,-664.25 314.88,-664.25 308.88,-664.25 302.88,-658.25 302.88,-652.25 302.88,-652.25 302.88,-602.25 302.88,-602.25 302.88,-596.25 308.88,-590.25 314.88,-590.25 314.88,-590.25 417.12,-590.25 417.12,-590.25 423.12,-590.25 429.12,-596.25 429.12,-602.25 429.12,-602.25 429.12,-652.25 429.12,-652.25 429.12,-658.25 423.12,-664.25 417.12,-664.25"/>
<text xml:space="preserve" text-anchor="middle" x="366" y="-649.8" font-family="Comic Sans MS" font-size="11.00">LlmInferenceOptions</text>
<text xml:space="preserve" text-anchor="middle" x="366" y="-633.3" font-family="Comic Sans MS" font-size="11.00">maxTokens</text>
<text xml:space="preserve" text-anchor="middle" x="366" y="-616.8" font-family="Comic Sans MS" font-size="11.00">temperature</text>
<text xml:space="preserve" text-anchor="middle" x="366" y="-600.3" font-family="Comic Sans MS" font-size="11.00">topK/topP</text>
</g>
<!-- swift_app&#45;&gt;options -->
<g id="edge2" class="edge">
<title>swift_app&#45;&gt;options</title>
<path fill="none" stroke="black" d="M328.31,-769.82C328.31,-769.82 328.31,-676.04 328.31,-676.04"/>
<polygon fill="black" stroke="black" points="331.81,-676.04 328.31,-666.04 324.81,-676.04 331.81,-676.04"/>
<text xml:space="preserve" text-anchor="middle" x="381.12" y="-717.38" font-family="Comic Sans MS" font-size="10.00">configure</text>
</g>
<!-- task_runner -->
<g id="node4" class="node">
<title>task_runner</title>
<path fill="#fafad2" stroke="black" d="M334.25,-498.75C334.25,-498.75 241.75,-498.75 241.75,-498.75 235.75,-498.75 229.75,-492.75 229.75,-486.75 229.75,-486.75 229.75,-469.75 229.75,-469.75 229.75,-463.75 235.75,-457.75 241.75,-457.75 241.75,-457.75 334.25,-457.75 334.25,-457.75 340.25,-457.75 346.25,-463.75 346.25,-469.75 346.25,-469.75 346.25,-486.75 346.25,-486.75 346.25,-492.75 340.25,-498.75 334.25,-498.75"/>
<text xml:space="preserve" text-anchor="middle" x="288" y="-484.3" font-family="Comic Sans MS" font-size="11.00">GenAI Task Runner</text>
<text xml:space="preserve" text-anchor="middle" x="288" y="-467.8" font-family="Comic Sans MS" font-size="11.00">Graph executor</text>
</g>
<!-- llm_inf&#45;&gt;task_runner -->
<g id="edge3" class="edge">
<title>llm_inf&#45;&gt;task_runner</title>
<path fill="none" stroke="black" d="M237.38,-606.53C237.38,-606.53 237.38,-510.31 237.38,-510.31"/>
<polygon fill="black" stroke="black" points="240.88,-510.31 237.38,-500.31 233.88,-510.31 240.88,-510.31"/>
<text xml:space="preserve" text-anchor="middle" x="258" y="-544.75" font-family="Comic Sans MS" font-size="10.00">C++ bridge</text>
</g>
<!-- options&#45;&gt;task_runner -->
<g id="edge4" class="edge">
<title>options&#45;&gt;task_runner</title>
<path fill="none" stroke="black" d="M324.56,-590.04C324.56,-590.04 324.56,-510.46 324.56,-510.46"/>
<polygon fill="black" stroke="black" points="328.06,-510.46 324.56,-500.46 321.06,-510.46 328.06,-510.46"/>
</g>
<!-- tflite -->
<g id="node5" class="node">
<title>tflite</title>
<path fill="#fafad2" stroke="black" d="M330.88,-371.5C330.88,-371.5 245.12,-371.5 245.12,-371.5 239.12,-371.5 233.12,-365.5 233.12,-359.5 233.12,-359.5 233.12,-326 233.12,-326 233.12,-320 239.12,-314 245.12,-314 245.12,-314 330.88,-314 330.88,-314 336.88,-314 342.88,-320 342.88,-326 342.88,-326 342.88,-359.5 342.88,-359.5 342.88,-365.5 336.88,-371.5 330.88,-371.5"/>
<text xml:space="preserve" text-anchor="middle" x="288" y="-357.05" font-family="Comic Sans MS" font-size="11.00">TFLite Runtime</text>
<text xml:space="preserve" text-anchor="middle" x="288" y="-340.55" font-family="Comic Sans MS" font-size="11.00">Model interpreter</text>
<text xml:space="preserve" text-anchor="middle" x="288" y="-324.05" font-family="Comic Sans MS" font-size="11.00">Delegate dispatch</text>
</g>
<!-- task_runner&#45;&gt;tflite -->
<g id="edge5" class="edge">
<title>task_runner&#45;&gt;tflite</title>
<path fill="none" stroke="black" d="M288,-457.38C288,-457.38 288,-383.46 288,-383.46"/>
<polygon fill="black" stroke="black" points="291.5,-383.46 288,-373.46 284.5,-383.46 291.5,-383.46"/>
<text xml:space="preserve" text-anchor="middle" x="325.12" y="-412.25" font-family="Comic Sans MS" font-size="10.00">load .task model</text>
</g>
<!-- xnn_del -->
<g id="node6" class="node">
<title>xnn_del</title>
<path fill="#ffb6c1" stroke="black" d="M226,-222.5C226,-222.5 102,-222.5 102,-222.5 96,-222.5 90,-216.5 90,-210.5 90,-210.5 90,-177 90,-177 90,-171 96,-165 102,-165 102,-165 226,-165 226,-165 232,-165 238,-171 238,-177 238,-177 238,-210.5 238,-210.5 238,-216.5 232,-222.5 226,-222.5"/>
<text xml:space="preserve" text-anchor="middle" x="164" y="-208.05" font-family="Comic Sans MS" font-size="11.00">XNNPACK Delegate</text>
<text xml:space="preserve" text-anchor="middle" x="164" y="-191.55" font-family="Comic Sans MS" font-size="11.00">CPU&#45;optimized ops</text>
<text xml:space="preserve" text-anchor="middle" x="164" y="-175.05" font-family="Comic Sans MS" font-size="11.00">INT4/INT8 quantization</text>
</g>
<!-- tflite&#45;&gt;xnn_del -->
<g id="edge6" class="edge">
<title>tflite&#45;&gt;xnn_del</title>
<path fill="none" stroke="black" d="M267.19,-313.72C267.19,-270.43 267.19,-194 267.19,-194 267.19,-194 249.96,-194 249.96,-194"/>
<polygon fill="black" stroke="black" points="249.96,-190.5 239.96,-194 249.96,-197.5 249.96,-190.5"/>
<text xml:space="preserve" text-anchor="middle" x="233.88" y="-268.5" font-family="Comic Sans MS" font-size="10.00">delegate ops</text>
</g>
<!-- kleidi_del -->
<g id="node7" class="node">
<title>kleidi_del</title>
<path fill="#ffb6c1" stroke="black" d="M425.62,-222.5C425.62,-222.5 308.38,-222.5 308.38,-222.5 302.38,-222.5 296.38,-216.5 296.38,-210.5 296.38,-210.5 296.38,-177 296.38,-177 296.38,-171 302.38,-165 308.38,-165 308.38,-165 425.62,-165 425.62,-165 431.62,-165 437.62,-171 437.62,-177 437.62,-177 437.62,-210.5 437.62,-210.5 437.62,-216.5 431.62,-222.5 425.62,-222.5"/>
<text xml:space="preserve" text-anchor="middle" x="367" y="-208.05" font-family="Comic Sans MS" font-size="11.00">KleidiAI Integration</text>
<text xml:space="preserve" text-anchor="middle" x="367" y="-191.55" font-family="Comic Sans MS" font-size="11.00">ARM Kleidi microkernels</text>
<text xml:space="preserve" text-anchor="middle" x="367" y="-175.05" font-family="Comic Sans MS" font-size="11.00">Matmul acceleration</text>
</g>
<!-- tflite&#45;&gt;kleidi_del -->
<g id="edge7" class="edge">
<title>tflite&#45;&gt;kleidi_del</title>
<path fill="none" stroke="black" d="M319.62,-313.67C319.62,-313.67 319.62,-234.27 319.62,-234.27"/>
<polygon fill="black" stroke="black" points="323.13,-234.27 319.63,-224.27 316.13,-234.27 323.13,-234.27"/>
<text xml:space="preserve" text-anchor="middle" x="383.88" y="-268.5" font-family="Comic Sans MS" font-size="10.00">delegate matmul</text>
</g>
<!-- neon -->
<g id="node8" class="node">
<title>neon</title>
<path fill="#dda0dd" stroke="black" d="M341.5,-73.5C341.5,-73.5 232.5,-73.5 232.5,-73.5 226.5,-73.5 220.5,-67.5 220.5,-61.5 220.5,-61.5 220.5,-28 220.5,-28 220.5,-22 226.5,-16 232.5,-16 232.5,-16 341.5,-16 341.5,-16 347.5,-16 353.5,-22 353.5,-28 353.5,-28 353.5,-61.5 353.5,-61.5 353.5,-67.5 347.5,-73.5 341.5,-73.5"/>
<text xml:space="preserve" text-anchor="middle" x="287" y="-59.05" font-family="Comic Sans MS" font-size="11.00">NEON (ARMv8 SIMD)</text>
<text xml:space="preserve" text-anchor="middle" x="287" y="-42.55" font-family="Comic Sans MS" font-size="11.00">128&#45;bit vectors</text>
<text xml:space="preserve" text-anchor="middle" x="287" y="-26.05" font-family="Comic Sans MS" font-size="11.00">FP16/INT8 arithmetic</text>
</g>
<!-- xnn_del&#45;&gt;neon -->
<g id="edge8" class="edge">
<title>xnn_del&#45;&gt;neon</title>
<path fill="none" stroke="red" d="M229.25,-164.67C229.25,-164.67 229.25,-85.27 229.25,-85.27"/>
<polygon fill="red" stroke="red" points="232.75,-85.27 229.25,-75.27 225.75,-85.27 232.75,-85.27"/>
<text xml:space="preserve" text-anchor="middle" x="234.38" y="-119.5" font-family="Comic Sans MS" font-size="10.00">vectorized ops</text>
</g>
<!-- cores -->
<g id="node10" class="node">
<title>cores</title>
<path fill="#dda0dd" stroke="black" d="M150.25,-73.5C150.25,-73.5 27.75,-73.5 27.75,-73.5 21.75,-73.5 15.75,-67.5 15.75,-61.5 15.75,-61.5 15.75,-28 15.75,-28 15.75,-22 21.75,-16 27.75,-16 27.75,-16 150.25,-16 150.25,-16 156.25,-16 162.25,-22 162.25,-28 162.25,-28 162.25,-61.5 162.25,-61.5 162.25,-67.5 156.25,-73.5 150.25,-73.5"/>
<text xml:space="preserve" text-anchor="middle" x="89" y="-59.05" font-family="Comic Sans MS" font-size="11.00">CPU Cores</text>
<text xml:space="preserve" text-anchor="middle" x="89" y="-42.55" font-family="Comic Sans MS" font-size="11.00">Performance + Efficiency</text>
<text xml:space="preserve" text-anchor="middle" x="89" y="-26.05" font-family="Comic Sans MS" font-size="11.00">Scheduled by OS</text>
</g>
<!-- xnn_del&#45;&gt;cores -->
<g id="edge9" class="edge">
<title>xnn_del&#45;&gt;cores</title>
<path fill="none" stroke="red" d="M126.12,-164.67C126.12,-164.67 126.12,-85.27 126.12,-85.27"/>
<polygon fill="red" stroke="red" points="129.63,-85.27 126.13,-75.27 122.63,-85.27 129.63,-85.27"/>
<text xml:space="preserve" text-anchor="middle" x="111.62" y="-119.5" font-family="Comic Sans MS" font-size="10.00">thread pool</text>
</g>
<!-- kleidi_del&#45;&gt;neon -->
<g id="edge10" class="edge">
<title>kleidi_del&#45;&gt;neon</title>
<path fill="none" stroke="blue" d="M324.94,-164.67C324.94,-164.67 324.94,-85.27 324.94,-85.27"/>
<polygon fill="blue" stroke="blue" points="328.44,-85.27 324.94,-75.27 321.44,-85.27 328.44,-85.27"/>
<text xml:space="preserve" text-anchor="middle" x="371.5" y="-119.5" font-family="Comic Sans MS" font-size="10.00">optimized kernels</text>
</g>
<!-- sme2 -->
<g id="node9" class="node">
<title>sme2</title>
<path fill="#dda0dd" stroke="black" d="M520.5,-73.5C520.5,-73.5 423.5,-73.5 423.5,-73.5 417.5,-73.5 411.5,-67.5 411.5,-61.5 411.5,-61.5 411.5,-28 411.5,-28 411.5,-22 417.5,-16 423.5,-16 423.5,-16 520.5,-16 520.5,-16 526.5,-16 532.5,-22 532.5,-28 532.5,-28 532.5,-61.5 532.5,-61.5 532.5,-67.5 526.5,-73.5 520.5,-73.5"/>
<text xml:space="preserve" text-anchor="middle" x="472" y="-59.05" font-family="Comic Sans MS" font-size="11.00">SME2 (A&#45;series)</text>
<text xml:space="preserve" text-anchor="middle" x="472" y="-42.55" font-family="Comic Sans MS" font-size="11.00">Scalable Matrix Ext</text>
<text xml:space="preserve" text-anchor="middle" x="472" y="-26.05" font-family="Comic Sans MS" font-size="11.00">2D register arrays</text>
</g>
<!-- kleidi_del&#45;&gt;sme2 -->
<g id="edge11" class="edge">
<title>kleidi_del&#45;&gt;sme2</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M424.56,-164.67C424.56,-164.67 424.56,-85.27 424.56,-85.27"/>
<polygon fill="blue" stroke="blue" points="428.06,-85.27 424.56,-75.27 421.06,-85.27 428.06,-85.27"/>
<text xml:space="preserve" text-anchor="middle" x="500.88" y="-119.5" font-family="Comic Sans MS" font-size="10.00">if available</text>
</g>
</g>
</svg>
